<h1>Cool</h1>
<style media="screen">
  #map {
    height: 100vh;
  }
  html, body {
      height: 100%;
      margin: 0;
      padding: 0;
    }
</style>
<div id="map"></div>
<script>
    const attractions = <%= @attractions.to_json.html_safe %>
     function initMap() {
       var myLatLng = {lat: -25.363, lng: 131.044};


      var bounds = new google.maps.LatLngBounds();

       var map = new google.maps.Map(document.getElementById('map'), {
         // zoom: 15,
         // center: {lat: attractions[0].latitude, lng: attractions[0].longitude}
       });

      for(let i = 0; i < attractions.length; i ++){
        const attraction = attractions[i];//get current item

       var marker = new google.maps.Marker({
         position: {lat: attraction.latitude, lng: attraction.longitude},
         map: map,
         title: attraction.name
       });
       // add the lastest marker to the bounding box
       bounds.extend(marker.position);
     } // for
     // make the map fit within the box
     map.fitBounds( bounds );

   } // initMap
   </script>
<script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB2ai0xcVHX45ezIGP-E-wXg3ZKlZyzP5s&callback=initMap">
</script>
